# Read the Docs configuration file
# See https://docs.readthedocs.io/en/stable/config-file/v2.html for details

version: 2

build:
  os: ubuntu-24.04
  tools:
    python: "3.11"
  jobs:
    pre_create_environment:
      - pip install uv
    create_environment:
      - uv venv "${READTHEDOCS_VIRTUALENV_PATH}"
    install:
      - uv pip install -e .
      - uv pip install -r docs/requirements.txt
      - uv pip install --group docs

sphinx:
  configuration: docs/conf.py

# Version Management:
# - The version is dynamically generated by hatch-vcs from git tags during pip install
# - When building from an exact tag (e.g., v0.1.0b2), the version is clean: "0.1.0b2"
# - When building from a commit after a tag, dev metadata is added: "0.1.0b2.dev1+..."
# - For stable documentation, configure Read the Docs web UI to build from release tags
# - The "stable" version should point to the latest release tag (e.g., v0.1.0b2)
# - The "latest" version should point to the main branch (default)
